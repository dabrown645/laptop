---
- name: system setup | clock
  tags:
    - ntp
    - setup
  block:
    - name: system setup | clock | install systemd-timesyncd (ubuntu)
      package:
        name: systemd-timesyncd
        state: present
      when: ansible_distribution in ["Debian", "Pop!_OS", "Ubuntu"]

    - name: system setup | clock | start and enable systemd-timesyncd
      service:
        name: systemd-timesyncd
        state: started
        enabled: true

    - name: system setup | clock | set time zone
      tags: timezone
      timezone:
        name: "America/Los_Angeles"